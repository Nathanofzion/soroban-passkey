{"version":3,"file":"plugin.cjs.js","sources":["esm/index.js","../node_modules/@simplewebauthn/browser/dist/bundle/index.js","esm/web.js"],"sourcesContent":["import { registerPlugin } from '@capacitor/core';\nconst WebAuthn = registerPlugin('WebAuthn', {\n    web: () => import('./web').then(m => new m.WebAuthnWeb()),\n});\nexport * from './definitions';\nexport { WebAuthn };\n//# sourceMappingURL=index.js.map","/* [@simplewebauthn/browser@10.0.0] */\nfunction bufferToBase64URLString(buffer) {\n    const bytes = new Uint8Array(buffer);\n    let str = '';\n    for (const charCode of bytes) {\n        str += String.fromCharCode(charCode);\n    }\n    const base64String = btoa(str);\n    return base64String.replace(/\\+/g, '-').replace(/\\//g, '_').replace(/=/g, '');\n}\n\nfunction base64URLStringToBuffer(base64URLString) {\n    const base64 = base64URLString.replace(/-/g, '+').replace(/_/g, '/');\n    const padLength = (4 - (base64.length % 4)) % 4;\n    const padded = base64.padEnd(base64.length + padLength, '=');\n    const binary = atob(padded);\n    const buffer = new ArrayBuffer(binary.length);\n    const bytes = new Uint8Array(buffer);\n    for (let i = 0; i < binary.length; i++) {\n        bytes[i] = binary.charCodeAt(i);\n    }\n    return buffer;\n}\n\nfunction browserSupportsWebAuthn() {\n    return (window?.PublicKeyCredential !== undefined &&\n        typeof window.PublicKeyCredential === 'function');\n}\n\nfunction toPublicKeyCredentialDescriptor(descriptor) {\n    const { id } = descriptor;\n    return {\n        ...descriptor,\n        id: base64URLStringToBuffer(id),\n        transports: descriptor.transports,\n    };\n}\n\nfunction isValidDomain(hostname) {\n    return (hostname === 'localhost' ||\n        /^([a-z0-9]+(-[a-z0-9]+)*\\.)+[a-z]{2,}$/i.test(hostname));\n}\n\nclass WebAuthnError extends Error {\n    constructor({ message, code, cause, name, }) {\n        super(message, { cause });\n        this.name = name ?? cause.name;\n        this.code = code;\n    }\n}\n\nfunction identifyRegistrationError({ error, options, }) {\n    const { publicKey } = options;\n    if (!publicKey) {\n        throw Error('options was missing required publicKey property');\n    }\n    if (error.name === 'AbortError') {\n        if (options.signal instanceof AbortSignal) {\n            return new WebAuthnError({\n                message: 'Registration ceremony was sent an abort signal',\n                code: 'ERROR_CEREMONY_ABORTED',\n                cause: error,\n            });\n        }\n    }\n    else if (error.name === 'ConstraintError') {\n        if (publicKey.authenticatorSelection?.requireResidentKey === true) {\n            return new WebAuthnError({\n                message: 'Discoverable credentials were required but no available authenticator supported it',\n                code: 'ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT',\n                cause: error,\n            });\n        }\n        else if (publicKey.authenticatorSelection?.userVerification === 'required') {\n            return new WebAuthnError({\n                message: 'User verification was required but no available authenticator supported it',\n                code: 'ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT',\n                cause: error,\n            });\n        }\n    }\n    else if (error.name === 'InvalidStateError') {\n        return new WebAuthnError({\n            message: 'The authenticator was previously registered',\n            code: 'ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED',\n            cause: error,\n        });\n    }\n    else if (error.name === 'NotAllowedError') {\n        return new WebAuthnError({\n            message: error.message,\n            code: 'ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY',\n            cause: error,\n        });\n    }\n    else if (error.name === 'NotSupportedError') {\n        const validPubKeyCredParams = publicKey.pubKeyCredParams.filter((param) => param.type === 'public-key');\n        if (validPubKeyCredParams.length === 0) {\n            return new WebAuthnError({\n                message: 'No entry in pubKeyCredParams was of type \"public-key\"',\n                code: 'ERROR_MALFORMED_PUBKEYCREDPARAMS',\n                cause: error,\n            });\n        }\n        return new WebAuthnError({\n            message: 'No available authenticator supported any of the specified pubKeyCredParams algorithms',\n            code: 'ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG',\n            cause: error,\n        });\n    }\n    else if (error.name === 'SecurityError') {\n        const effectiveDomain = window.location.hostname;\n        if (!isValidDomain(effectiveDomain)) {\n            return new WebAuthnError({\n                message: `${window.location.hostname} is an invalid domain`,\n                code: 'ERROR_INVALID_DOMAIN',\n                cause: error,\n            });\n        }\n        else if (publicKey.rp.id !== effectiveDomain) {\n            return new WebAuthnError({\n                message: `The RP ID \"${publicKey.rp.id}\" is invalid for this domain`,\n                code: 'ERROR_INVALID_RP_ID',\n                cause: error,\n            });\n        }\n    }\n    else if (error.name === 'TypeError') {\n        if (publicKey.user.id.byteLength < 1 || publicKey.user.id.byteLength > 64) {\n            return new WebAuthnError({\n                message: 'User ID was not between 1 and 64 characters',\n                code: 'ERROR_INVALID_USER_ID_LENGTH',\n                cause: error,\n            });\n        }\n    }\n    else if (error.name === 'UnknownError') {\n        return new WebAuthnError({\n            message: 'The authenticator was unable to process the specified options, or could not create a new credential',\n            code: 'ERROR_AUTHENTICATOR_GENERAL_ERROR',\n            cause: error,\n        });\n    }\n    return error;\n}\n\nclass BaseWebAuthnAbortService {\n    createNewAbortSignal() {\n        if (this.controller) {\n            const abortError = new Error('Cancelling existing WebAuthn API call for new one');\n            abortError.name = 'AbortError';\n            this.controller.abort(abortError);\n        }\n        const newController = new AbortController();\n        this.controller = newController;\n        return newController.signal;\n    }\n    cancelCeremony() {\n        if (this.controller) {\n            const abortError = new Error('Manually cancelling existing WebAuthn API call');\n            abortError.name = 'AbortError';\n            this.controller.abort(abortError);\n            this.controller = undefined;\n        }\n    }\n}\nconst WebAuthnAbortService = new BaseWebAuthnAbortService();\n\nconst attachments = ['cross-platform', 'platform'];\nfunction toAuthenticatorAttachment(attachment) {\n    if (!attachment) {\n        return;\n    }\n    if (attachments.indexOf(attachment) < 0) {\n        return;\n    }\n    return attachment;\n}\n\nasync function startRegistration(optionsJSON) {\n    if (!browserSupportsWebAuthn()) {\n        throw new Error('WebAuthn is not supported in this browser');\n    }\n    const publicKey = {\n        ...optionsJSON,\n        challenge: base64URLStringToBuffer(optionsJSON.challenge),\n        user: {\n            ...optionsJSON.user,\n            id: base64URLStringToBuffer(optionsJSON.user.id),\n        },\n        excludeCredentials: optionsJSON.excludeCredentials?.map(toPublicKeyCredentialDescriptor),\n    };\n    const options = { publicKey };\n    options.signal = WebAuthnAbortService.createNewAbortSignal();\n    let credential;\n    try {\n        credential = (await navigator.credentials.create(options));\n    }\n    catch (err) {\n        throw identifyRegistrationError({ error: err, options });\n    }\n    if (!credential) {\n        throw new Error('Registration was not completed');\n    }\n    const { id, rawId, response, type } = credential;\n    let transports = undefined;\n    if (typeof response.getTransports === 'function') {\n        transports = response.getTransports();\n    }\n    let responsePublicKeyAlgorithm = undefined;\n    if (typeof response.getPublicKeyAlgorithm === 'function') {\n        try {\n            responsePublicKeyAlgorithm = response.getPublicKeyAlgorithm();\n        }\n        catch (error) {\n            warnOnBrokenImplementation('getPublicKeyAlgorithm()', error);\n        }\n    }\n    let responsePublicKey = undefined;\n    if (typeof response.getPublicKey === 'function') {\n        try {\n            const _publicKey = response.getPublicKey();\n            if (_publicKey !== null) {\n                responsePublicKey = bufferToBase64URLString(_publicKey);\n            }\n        }\n        catch (error) {\n            warnOnBrokenImplementation('getPublicKey()', error);\n        }\n    }\n    let responseAuthenticatorData;\n    if (typeof response.getAuthenticatorData === 'function') {\n        try {\n            responseAuthenticatorData = bufferToBase64URLString(response.getAuthenticatorData());\n        }\n        catch (error) {\n            warnOnBrokenImplementation('getAuthenticatorData()', error);\n        }\n    }\n    return {\n        id,\n        rawId: bufferToBase64URLString(rawId),\n        response: {\n            attestationObject: bufferToBase64URLString(response.attestationObject),\n            clientDataJSON: bufferToBase64URLString(response.clientDataJSON),\n            transports,\n            publicKeyAlgorithm: responsePublicKeyAlgorithm,\n            publicKey: responsePublicKey,\n            authenticatorData: responseAuthenticatorData,\n        },\n        type,\n        clientExtensionResults: credential.getClientExtensionResults(),\n        authenticatorAttachment: toAuthenticatorAttachment(credential.authenticatorAttachment),\n    };\n}\nfunction warnOnBrokenImplementation(methodName, cause) {\n    console.warn(`The browser extension that intercepted this WebAuthn API call incorrectly implemented ${methodName}. You should report this error to them.\\n`, cause);\n}\n\nfunction browserSupportsWebAuthnAutofill() {\n    if (!browserSupportsWebAuthn()) {\n        return new Promise((resolve) => resolve(false));\n    }\n    const globalPublicKeyCredential = window\n        .PublicKeyCredential;\n    if (globalPublicKeyCredential.isConditionalMediationAvailable === undefined) {\n        return new Promise((resolve) => resolve(false));\n    }\n    return globalPublicKeyCredential.isConditionalMediationAvailable();\n}\n\nfunction identifyAuthenticationError({ error, options, }) {\n    const { publicKey } = options;\n    if (!publicKey) {\n        throw Error('options was missing required publicKey property');\n    }\n    if (error.name === 'AbortError') {\n        if (options.signal instanceof AbortSignal) {\n            return new WebAuthnError({\n                message: 'Authentication ceremony was sent an abort signal',\n                code: 'ERROR_CEREMONY_ABORTED',\n                cause: error,\n            });\n        }\n    }\n    else if (error.name === 'NotAllowedError') {\n        return new WebAuthnError({\n            message: error.message,\n            code: 'ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY',\n            cause: error,\n        });\n    }\n    else if (error.name === 'SecurityError') {\n        const effectiveDomain = window.location.hostname;\n        if (!isValidDomain(effectiveDomain)) {\n            return new WebAuthnError({\n                message: `${window.location.hostname} is an invalid domain`,\n                code: 'ERROR_INVALID_DOMAIN',\n                cause: error,\n            });\n        }\n        else if (publicKey.rpId !== effectiveDomain) {\n            return new WebAuthnError({\n                message: `The RP ID \"${publicKey.rpId}\" is invalid for this domain`,\n                code: 'ERROR_INVALID_RP_ID',\n                cause: error,\n            });\n        }\n    }\n    else if (error.name === 'UnknownError') {\n        return new WebAuthnError({\n            message: 'The authenticator was unable to process the specified options, or could not create a new assertion signature',\n            code: 'ERROR_AUTHENTICATOR_GENERAL_ERROR',\n            cause: error,\n        });\n    }\n    return error;\n}\n\nasync function startAuthentication(optionsJSON, useBrowserAutofill = false) {\n    if (!browserSupportsWebAuthn()) {\n        throw new Error('WebAuthn is not supported in this browser');\n    }\n    let allowCredentials;\n    if (optionsJSON.allowCredentials?.length !== 0) {\n        allowCredentials = optionsJSON.allowCredentials?.map(toPublicKeyCredentialDescriptor);\n    }\n    const publicKey = {\n        ...optionsJSON,\n        challenge: base64URLStringToBuffer(optionsJSON.challenge),\n        allowCredentials,\n    };\n    const options = {};\n    if (useBrowserAutofill) {\n        if (!(await browserSupportsWebAuthnAutofill())) {\n            throw Error('Browser does not support WebAuthn autofill');\n        }\n        const eligibleInputs = document.querySelectorAll(\"input[autocomplete$='webauthn']\");\n        if (eligibleInputs.length < 1) {\n            throw Error('No <input> with \"webauthn\" as the only or last value in its `autocomplete` attribute was detected');\n        }\n        options.mediation = 'conditional';\n        publicKey.allowCredentials = [];\n    }\n    options.publicKey = publicKey;\n    options.signal = WebAuthnAbortService.createNewAbortSignal();\n    let credential;\n    try {\n        credential = (await navigator.credentials.get(options));\n    }\n    catch (err) {\n        throw identifyAuthenticationError({ error: err, options });\n    }\n    if (!credential) {\n        throw new Error('Authentication was not completed');\n    }\n    const { id, rawId, response, type } = credential;\n    let userHandle = undefined;\n    if (response.userHandle) {\n        userHandle = bufferToBase64URLString(response.userHandle);\n    }\n    return {\n        id,\n        rawId: bufferToBase64URLString(rawId),\n        response: {\n            authenticatorData: bufferToBase64URLString(response.authenticatorData),\n            clientDataJSON: bufferToBase64URLString(response.clientDataJSON),\n            signature: bufferToBase64URLString(response.signature),\n            userHandle,\n        },\n        type,\n        clientExtensionResults: credential.getClientExtensionResults(),\n        authenticatorAttachment: toAuthenticatorAttachment(credential.authenticatorAttachment),\n    };\n}\n\nfunction platformAuthenticatorIsAvailable() {\n    if (!browserSupportsWebAuthn()) {\n        return new Promise((resolve) => resolve(false));\n    }\n    return PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable();\n}\n\nexport { WebAuthnAbortService, WebAuthnError, base64URLStringToBuffer, browserSupportsWebAuthn, browserSupportsWebAuthnAutofill, bufferToBase64URLString, platformAuthenticatorIsAvailable, startAuthentication, startRegistration };\n","import { WebPlugin } from '@capacitor/core';\nimport { browserSupportsWebAuthn, browserSupportsWebAuthnAutofill, startAuthentication, startRegistration } from '@simplewebauthn/browser';\nexport class WebAuthnWeb extends WebPlugin {\n    async startRegistration(publicKeyCredentialCreationOptionsJSON) {\n        let res;\n        try {\n            res = await startRegistration(publicKeyCredentialCreationOptionsJSON);\n        }\n        catch (error) {\n            return Promise.reject(error);\n        }\n        return Promise.resolve(res);\n    }\n    async startAuthentication(requestOptionsJSON, useBrowserAutofill) {\n        let res;\n        try {\n            res = await startAuthentication(requestOptionsJSON, useBrowserAutofill);\n        }\n        catch (error) {\n            return Promise.reject(error);\n        }\n        return Promise.resolve(res);\n    }\n    async isWebAuthnAvailable() {\n        return this.isAvailable('webauthn');\n    }\n    async isWebAuthnAutoFillAvailable() {\n        return this.isAvailable('webauthnautofill');\n    }\n    async isAvailable(type) {\n        let val = false;\n        if (type === 'webauthn') {\n            val = await browserSupportsWebAuthn();\n        }\n        if (type === 'webauthnautofill') {\n            val = await browserSupportsWebAuthnAutofill();\n        }\n        return Promise.resolve({ value: val });\n    }\n}\n//# sourceMappingURL=web.js.map"],"names":["registerPlugin","WebPlugin"],"mappings":"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"}